{
  "$order": [
    "load_texture_handler",
    "reg_anim_seq_handler",
    "read_controls",
    "update_enemies_collisions",
    "apply_controls",
    "apply_gravity",
    "apply_jump",
    "update_auto_move",
    "update_auto_move_collisions",
    "update_collisions",
    "update_death",
    "update_spawn_timer",
    "update_position",
    "validate_position",
    "select_current_anim_frame",
    "update_anim_frame",
    "render"
  ],
  "$templates": [
    {
      "$name": "enemy",
      "$components": {
        "enemy": {
          "$type": "enemy",
          "$value": {}
        },
        "pos": {
          "$type": "vec2",
          "$value": [
            0.0,
            0.0
          ]
        },
        "vel": {
          "$type": "vec2",
          "$value": [
            0.0,
            0.0
          ]
        },
        "is_flipped": {
          "$type": "bool",
          "$value": false
        },
        "is_alive": {
          "$type": "bool",
          "$value": true
        },
        "spawn_timer": {
          "$type": "timer",
          "$value": {
            "time": 5.0,
            "period": 5.0
          }
        }
      }
    },
    {
      "$name": "opossum",
      "$extends": [
        "enemy"
      ],
      "$components": {
        "texture": {
          "$type": "texture",
          "$value": {
            "path": "../assets/atlas/atlas.png"
          }
        },
        "frame": {
          "$type": "vec4",
          "$value": [
            368,
            68,
            36,
            28
          ]
        },
        "anim_state": {
          "$type": "anim_state",
          "$value": {
            "node": "run"
          }
        },
        "anim_graph": {
          "$type": "anim_graph",
          "$value": {
            "nodes": {
              "run": {
                "fps": 10.0,
                "loop": true,
                "frames": [
                  {
                    "x": 368,
                    "y": 68,
                    "w": 36,
                    "h": 28
                  },
                  {
                    "x": 292,
                    "y": 68,
                    "w": 36,
                    "h": 28
                  },
                  {
                    "x": 330,
                    "y": 68,
                    "w": 36,
                    "h": 28
                  },
                  {
                    "x": 406,
                    "y": 68,
                    "w": 36,
                    "h": 28
                  },
                  {
                    "x": 0,
                    "y": 102,
                    "w": 36,
                    "h": 28
                  },
                  {
                    "x": 444,
                    "y": 68,
                    "w": 36,
                    "h": 28
                  }
                ]
              },
              "death": {
                "fps": 10.0,
                "loop": false,
                "frames": [
                  {"x":248,"y":102,"w":40,"h":41},
                  {"x":122,"y":102,"w":40,"h":41},
                  {"x":206,"y":102,"w":40,"h":41},
                  {"x":164,"y":102,"w":40,"h":41},
                  {"x":80,"y":102,"w":40,"h":41},
                  {"x":38,"y":102,"w":40,"h":41}
                ]
              }
            }
          }
        },
        "auto_move": {
          "$type": "auto_move",
          "$value": {}
        },
        "collision_rect": {
          "$type": "vec2",
          "$value": [
            32.0,
            20.0
          ]
        }
      }
    },
    {
      "$name": "fox",
      "$components": {
        "user_input": {
          "$type": "user_input",
          "$value": {}
        },
        "gravity": {
          "$type": "gravity",
          "$value": {
            "mass": 25.0
          }
        },
        "jump": {
          "$type": "jump",
          "$value": {
            "height": 16.0,
            "duration": 0.1
          }
        },
        "pos": {
          "$type": "vec2",
          "$value": [
            0.0,
            0.0
          ]
        },
        "vel": {
          "$type": "vec2",
          "$value": [
            0.0,
            0.0
          ]
        },
        "collision_rect": {
          "$type": "vec2",
          "$value": [
            32.0,
            32.0
          ]
        },
        "is_flipped": {
          "$type": "bool",
          "$value": false
        },
        "is_alive": {
          "$type": "bool",
          "$value": true
        },
        "frame": {
          "$type": "vec4",
          "$value": [
            0.0,
            0.0,
            0.0,
            0.0
          ]
        },
        "texture": {
          "$type": "texture",
          "$value": {
            "path": "../assets/atlas/atlas.png"
          }
        },
        "anim_state": {
          "$type": "anim_state",
          "$value": {
            "node": "idle"
          }
        },
        "anim_graph": {
          "$type": "anim_graph",
          "$value": {
            "nodes": {
              "idle": {
                "fps": 10.0,
                "loop": true,
                "frames": [
                  {
                    "x": 105,
                    "y": 34,
                    "w": 33,
                    "h": 32
                  },
                  {
                    "x": 350,
                    "y": 34,
                    "w": 33,
                    "h": 32
                  },
                  {
                    "x": 452,
                    "y": 0,
                    "w": 33,
                    "h": 32
                  },
                  {
                    "x": 315,
                    "y": 34,
                    "w": 33,
                    "h": 32
                  }
                ]
              },
              "run": {
                "fps": 10.0,
                "loop": true,
                "frames": [
                  {
                    "x": 385,
                    "y": 34,
                    "w": 33,
                    "h": 32
                  },
                  {
                    "x": 35,
                    "y": 68,
                    "w": 33,
                    "h": 32
                  },
                  {
                    "x": 0,
                    "y": 68,
                    "w": 33,
                    "h": 32
                  },
                  {
                    "x": 420,
                    "y": 34,
                    "w": 33,
                    "h": 32
                  },
                  {
                    "x": 455,
                    "y": 34,
                    "w": 33,
                    "h": 32
                  },
                  {
                    "x": 417,
                    "y": 0,
                    "w": 33,
                    "h": 32
                  }
                ]
              },
              "jump": {
                "fps": 10.0,
                "loop": true,
                "frames": [
                  {
                    "x": 35,
                    "y": 34,
                    "w": 33,
                    "h": 32
                  }
                ]
              },
              "fall": {
                "fps": 10.0,
                "loop": true,
                "frames": [
                  {
                    "x": 0,
                    "y": 34,
                    "w": 33,
                    "h": 32
                  }
                ]
              }
            }
          }
        }
      }
    },
    {
      "$name": "brick",
      "$components": {
        "wall": {
          "$type": "wall",
          "$value": {}
        },
        "pos": {
          "$type": "vec2",
          "$value": [
            0.0,
            0.0
          ]
        },
        "collision_rect": {
          "$type": "vec2",
          "$value": [
            32.0,
            32.0
          ]
        },
        "is_flipped": {
          "$type": "bool",
          "$value": false
        },
        "is_alive": {
          "$type": "bool",
          "$value": true
        },
        "frame": {
          "$type": "vec4",
          "$value": [
            2,
            93,
            32,
            32
          ]
        },
        "texture": {
          "$type": "texture",
          "$value": {
            "path": "../assets/atlas/atlas-props.png"
          }
        }
      }
    }
  ]
}